<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sign in • Academic Progress</title>

  <style>
    :root {
      --gold: #cdb27d;
      --card-radius: 16px;
      --shadow: 0 18px 40px rgba(0,0,0,.08);
      --text: #0b0b0b;
      --subtle: #5a5a5a;
      --input-border: #e6e6e6;
      --pill: #0b0b0b;
      --pill-text: #ffd875;
      --white: #fff;
    }
    html, body { height: 100%; margin: 0; background: var(--gold); color: var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif; }

    /* top white bar */
    .topbar { position: sticky; top: 0; z-index: 10; background: var(--white);
      border-bottom: 1px solid rgba(0,0,0,.06); padding: 10px 18px; }
    .topbar-inner { max-width: 1140px; margin: 0 auto; display: flex; align-items: center; }
    .topbar-inner img.pu-logo { width: clamp(150px, 20vw, 220px); height: auto; display: block; }

    /* container/card */
    .auth-wrap { min-height: calc(100dvh - 64px); display: grid; place-items: start center;
      padding: min(6vh, 56px) 16px 56px; }
    .auth-card { width: min(760px, 92vw); background: var(--white); border-radius: var(--card-radius);
      box-shadow: var(--shadow); padding: clamp(24px, 4vw, 48px); }
    .auth-title { margin: 0 0 12px 0; font-weight: 800; font-size: clamp(28px, 3.6vw, 40px); letter-spacing: .2px; }
    .auth-sub { margin: 0 0 24px 0; color: var(--subtle); font-size: clamp(16px, 2vw, 18px); }

    /* form */
    .form { display: grid; gap: 18px; margin-top: 8px; }
    .form-row { display: grid; gap: 6px; }
    .form-row label { font-weight: 600; font-size: 16px; letter-spacing: .2px; }
    .form-row input[type="email"], .form-row input[type="password"] {
      width: 100%; padding: 16px 18px; border-radius: 12px; border: 1px solid var(--input-border);
      font-size: 18px; outline: none; transition: border-color .15s ease; background: #fff;
    }
    .form-row input:focus { border-color: #bda06d; box-shadow: 0 0 0 3px rgba(189,160,109,.12); }

    .actions { margin-top: 8px; display: grid; justify-content: start; }
    .btn-login {
      appearance: none; border: 0; background: var(--pill); color: var(--pill-text);
      padding: 14px 26px; border-radius: 14px; font-size: 20px; font-weight: 800; cursor: pointer;
      box-shadow: 0 4px 0 rgba(0,0,0,.2); transition: transform .04s ease, box-shadow .04s ease, opacity .2s ease;
    }
    .btn-login:hover { opacity: .96; }
    .btn-login:active { transform: translateY(1px); box-shadow: 0 2px 0 rgba(0,0,0,.22); }

    .helper { margin-top: 14px; color: var(--subtle); font-size: 16px; }
    .helper a { color: inherit; text-decoration: underline; }
    .helper a:hover { opacity: .85; }

    .form-error { color:#b00020; margin-top:.5rem; display:none; }
    @media (max-width: 560px) { .auth-card { padding: 22px; } }
  </style>
</head>
<body>

  <header class="topbar">
    <div class="topbar-inner">
      <img class="pu-logo" src="pu-logo.svg" alt="Purdue University Logo">
    </div>
  </header>

  <main class="auth-wrap">
    <section class="auth-card" role="dialog" aria-labelledby="title">
      <h1 id="title" class="auth-title">Welcome back</h1>
      <p class="auth-sub">Log in to continue to the Academic Progress Portal.</p>

      <!-- NOTE: prevent default navigation; we handle submit in JS -->
      <form id="loginForm" class="form" action="javascript:void(0);" autocomplete="on">
        <div class="form-row">
          <label for="email">Email</label>
          <input id="email" name="email" type="email" placeholder="you@example.com" required>
        </div>

        <div class="form-row">
          <label for="password">Password</label>
          <input id="password" name="password" type="password" placeholder="Enter your password" required>
        </div>

        <div id="loginError" class="form-error"></div>

        <div class="actions">
          <button id="loginBtn" type="submit" class="btn-login">Log in</button>
        </div>

        <p class="helper">
          Don’t have an account yet?
          <a href="signup.html">Create your account.</a>
        </p>
      </form>
    </section>
  </main>

  <script>
    (function () {
      const KEY_FIRST = 'ap_first_name';   // read by grades/worksheets/links
      const ALLOWED = {
        'sherry@sixofus.us': 'Sherry',
        'scottwj@utexas.edu': 'Scott'
      };

      const $ = id => document.getElementById(id);
      const setError = (msg='') => {
        const el = $('loginError');
        if (!el) return;
        el.textContent = msg;
        el.style.display = msg ? 'block' : 'none';
      };

      $('loginForm')?.addEventListener('submit', (e) => {
        e.preventDefault();
        setError('');

        const email = ($('email')?.value || '').trim().toLowerCase();
        const pwd   = ($('password')?.value || '').trim();

        if (!email || !pwd) {
          setError('Please enter both email and password.');
          return;
        }

        const first = ALLOWED[email];
        if (!first) {
          setError('Sorry, that email is not authorized for this portal.');
          return;
        }

        // Only for this visit
        sessionStorage.setItem(KEY_FIRST, first);

        // Go to the app
        window.location.href = 'grades.html';
      });
    })();
  </script>
</body>
</html>